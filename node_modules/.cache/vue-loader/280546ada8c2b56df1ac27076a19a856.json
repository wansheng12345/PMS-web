{"remainingRequest":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\pms\\hotel-pms-web\\src\\views\\dynamic.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\pms\\hotel-pms-web\\src\\views\\dynamic.vue","mtime":1590660331687},{"path":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWVudSBmcm9tICIuLi9jb21wb25lbnRzL21lbnUiOw0KaW1wb3J0IGhlYWRlciBmcm9tICIuLi92aWV3cy9kYXRhLmpzIjsNCmltcG9ydCBSb29tVmFjYW50IGZyb20gIi4vLi4vY29tcG9uZW50cy9jYWxlbmRhci9yb29tVmFjYW50Ig0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgTWVudSwNCiAgICBSb29tVmFjYW50DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGhlYWRlcjogaGVhZGVyLmRhdGEsDQogICAgICBsaXN0OiBoZWFkZXIubGlzdCwNCiAgICAgIHZhbHVlMTogIjIwMjAtMDUtMjgiLA0KICAgICAgd2VlazogWyLml6UiLCAi5LiAIiwgIuS6jCIsICLkuIkiLCAi5ZubIiwgIuS6lCIsICLlha0iXSwNCiAgICAgIHRvZGF5OicnLC8v5LuK5aSp5pel5pyfDQogICAgICBzZWxlY3RlZFJvb206W10sLy/pgInkuK3nmoTmiL/pl7QNCiAgICAgIFNob3dSb29tVmFjYW50OmZhbHNlLC8v56m65oi/DQogICAgfTsNCiAgfSwNCiAgd2F0Y2g6ew0KICAgICAgdmFsdWUxKCl7DQogICAgICAgIHRoaXMuZGF0ZSgpOw0KICAgICAgfQ0KICB9LA0KICBtb3VudGVkKCl7DQogICAgdGhpcy50b2RheT10aGlzLiRtb21lbnQoKS5mb3JtYXQoIk1NLUREIik7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVBY3RpdmUoaW5kZXgsIGkpIHsNCiAgICAgIHRoaXMubGlzdFtpbmRleF0uaXRlbVtpXS5pc19hY3RpdmUgPSAhdGhpcy5saXN0W2luZGV4XS5pdGVtW2ldLmlzX2FjdGl2ZTsNCiAgICAgIHZhciBpZD10aGlzLmxpc3RbaW5kZXhdLmlkLC8v54K55Ye75oi/6Ze055qEaWQNCiAgICAgIHByaWNlPXRoaXMubGlzdFtpbmRleF0uaXRlbVtpXS5wcmljZSwvL+eCueWHu+aIv+mXtOeahOS7t+agvA0KICAgICAgZGF0ZT10aGlzLmhlYWRlcltpXS5kYXk7Ly/ngrnlh7vmiL/pl7TnmoTml6XmnJ8NCiAgICAgIGlmKHRoaXMubGlzdFtpbmRleF0uaXRlbVtpXS5pc19hY3RpdmUpew0KICAgICAgICB0aGlzLnNlbGVjdGVkUm9vbS5wdXNoKHsNCiAgICAgICAgICAgIG5hbWU6dGhpcy5saXN0W2luZGV4XS5yb29tTmFtZSwNCiAgICAgICAgICAgIGlkLA0KICAgICAgICAgICAgcm9vbU51bWJlcjp0aGlzLmxpc3RbaW5kZXhdLnJvb21OdW1iZXIsDQogICAgICAgICAgICBsaXN0Olt7ZGF0ZTpkYXRlLHByaWNlOnByaWNlfV0NCiAgICAgICAgfSkNCiAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb29tLm1hcCgoaXRlbSxpbmRleCk9PnsNCiAgICAgICAgICAgIGlmKGl0ZW0uaWQ9PWlkKXsvL+WIpOaWrWlkICDmqKrliJcNCiAgICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxpdGVtLmxpc3QubGVuZ3RoO2krKyl7DQogICAgICAgICAgICAgICAgICBpZihpdGVtLmxpc3RbaV0uZGF0ZT09ZGF0ZSl7Ly/liKTmlq3ml7bpl7TmmK/lkKblkIzkuIDlpKkg57q15YiXDQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvb20uc3BsaWNlKGluZGV4LDEpDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMuY2xvc2VBbGVydCgpDQogICAgICB9DQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldHJvb21MaXN0SW5mbycsIHRoaXMuc2VsZWN0ZWRSb29tKTsNCiAgICAgIHRoaXMuU2hvd1Jvb21WYWNhbnQ9dHJ1ZTsNCiAgICB9LA0KICAgIGhhbmRsZVBydmUoKXsvL+S4iuS4gOWRqA0KICAgICAgICB0aGlzLnZhbHVlMT10aGlzLmdldERhdGUoLTcsdHJ1ZSkNCiAgICB9LA0KICAgIGhhbmRsZU5leHQoKXsvL+S4i+S4gOWRqA0KICAgICAgdGhpcy52YWx1ZTE9dGhpcy5nZXREYXRlKDcsdHJ1ZSkNCiAgICB9LA0KICAgIGRhdGUoKSB7DQogICAgICB0aGlzLmhlYWRlciA9IFsNCiAgICAgICAgLy8gIHsgZGF5OnRoaXMuZ2V0RGF0ZSgtMiksIGNvdW50OiAiOCIsIHdlZWs6dGhpcy53ZWVrW3RoaXMuZ2V0d2VlaygtMildIH0sDQogICAgICAgIC8vICB7IGRheTp0aGlzLmdldERhdGUoLTEpLCBjb3VudDogIjgiLCB3ZWVrOnRoaXMud2Vla1t0aGlzLmdldHdlZWsoLTEpXX0sDQogICAgICAgIHsgZGF5OiB0aGlzLmdldERhdGUoMCksIGNvdW50OiAiOCIsIHdlZWs6IHRoaXMud2Vla1t0aGlzLmdldHdlZWsoMCldIH0sDQogICAgICAgIHsgZGF5OiB0aGlzLmdldERhdGUoMSksIGNvdW50OiAiMTIiLCB3ZWVrOiB0aGlzLndlZWtbdGhpcy5nZXR3ZWVrKDEpXSB9LA0KICAgICAgICB7IGRheTogdGhpcy5nZXREYXRlKDIpLCBjb3VudDogIjE1Iiwgd2VlazogdGhpcy53ZWVrW3RoaXMuZ2V0d2VlaygyKV0gfSwNCiAgICAgICAgeyBkYXk6IHRoaXMuZ2V0RGF0ZSgzKSwgY291bnQ6ICIxNyIsIHdlZWs6IHRoaXMud2Vla1t0aGlzLmdldHdlZWsoMyldIH0sDQogICAgICAgIHsgZGF5OiB0aGlzLmdldERhdGUoNCksIGNvdW50OiAiMjMiLCB3ZWVrOiB0aGlzLndlZWtbdGhpcy5nZXR3ZWVrKDQpXSB9LA0KICAgICAgICB7IGRheTogdGhpcy5nZXREYXRlKDUpLCBjb3VudDogIjI0Iiwgd2VlazogdGhpcy53ZWVrW3RoaXMuZ2V0d2Vlayg1KV0gfSwNCiAgICAgICAgeyBkYXk6IHRoaXMuZ2V0RGF0ZSg2KSwgY291bnQ6ICIzNiIsIHdlZWs6IHRoaXMud2Vla1t0aGlzLmdldHdlZWsoNildIH0sDQogICAgICAgIHsgZGF5OiB0aGlzLmdldERhdGUoNyksIGNvdW50OiAiNDIiLCB3ZWVrOiB0aGlzLndlZWtbdGhpcy5nZXR3ZWVrKDcpXSB9LA0KICAgICAgICB7IGRheTogdGhpcy5nZXREYXRlKDgpLCBjb3VudDogIjU2Iiwgd2VlazogdGhpcy53ZWVrW3RoaXMuZ2V0d2Vlayg4KV0gfSwNCiAgICAgICAgeyBkYXk6IHRoaXMuZ2V0RGF0ZSg5KSwgY291bnQ6ICI2MCIsIHdlZWs6IHRoaXMud2Vla1t0aGlzLmdldHdlZWsoOSldIH0NCiAgICAgIF07DQogICAgfSwNCiAgICBnZXREYXRlKGRheSxmbGFnPWZhbHNlKSB7DQogICAgICB2YXIgZGQgPSBuZXcgRGF0ZSh0aGlzLnZhbHVlMSk7DQogICAgICBkZC5zZXREYXRlKGRkLmdldERhdGUoKSArIGRheSk7DQogICAgICB2YXIgeT1kZC5nZXRGdWxsWWVhcigpOw0KICAgICAgdmFyIG0gPQ0KICAgICAgICBkZC5nZXRNb250aCgpICsgMSA8IDEwID8gIjAiICsgKGRkLmdldE1vbnRoKCkgKyAxKSA6IGRkLmdldE1vbnRoKCkgKyAxOw0KICAgICAgdmFyIGQgPSBkZC5nZXREYXRlKCkgPCAxMCA/ICIwIiArIGRkLmdldERhdGUoKSA6IGRkLmdldERhdGUoKTsNCiAgICAgIGlmKGZsYWcpew0KICAgICAgICByZXR1cm4geSsiLSIgKyBtICsgIi0iICsgZDsNCiAgICAgIH1lbHNlew0KICAgICAgICByZXR1cm4gIG0gKyAiLSIgKyBkOw0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0d2VlayhkYXkpIHsNCiAgICAgIHZhciBkZCA9IG5ldyBEYXRlKHRoaXMudmFsdWUxKTsNCiAgICAgIGRkLnNldERhdGUoZGQuZ2V0RGF0ZSgpICsgZGF5KTsNCiAgICAgIHJldHVybiBkZC5nZXREYXkoKTsNCiAgICB9LA0KICAgIGNsb3NlQWxlcnQoKXsNCiAgICAgIGNvbnNvbGUubG9nKCIxMTExIikNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["dynamic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dynamic.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"dynamicPage\">\r\n    <div class=\"menuLeft\">\r\n      <Menu></Menu>\r\n    </div>\r\n    <div class=\"boxRight\">\r\n      <section>\r\n        <header>\r\n          <ul>\r\n            <li class=\"frist\">\r\n              <!-- <div>2020-05</div> -->\r\n              <div>\r\n                <el-date-picker v-model=\"value1\" size=\"mini\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n              </div>\r\n              <div class=\"btn\">\r\n                <span @click=\"handlePrve\">\r\n                  <i class=\"el-icon-arrow-left\"></i>\r\n                  <span>前一周</span>\r\n                </span>\r\n                <span @click=\"handleNext\">\r\n                  <span>后一周</span>\r\n                  <i class=\"el-icon-arrow-right\"></i>\r\n                </span>\r\n              </div>\r\n            </li>\r\n            <li v-for=\"(item,index) in header\" :key=\"index\" :class=\"item.day==today?'on':''\">\r\n              <div>{{item.week}}</div>\r\n              <div v-if=\"item.day!=today\">{{item.day}}</div>\r\n              <div v-else class=\"today\">今天</div>\r\n              <div>剩{{item.count}}间</div>\r\n            </li>\r\n          </ul>\r\n        </header>\r\n        <div class=\"main\">\r\n          <ul v-for=\"(item,index) in list\" :key=\"index\">\r\n            <li class=\"frist\">\r\n              <div>{{item.roomName}}</div>\r\n              <div>{{item.roomNumber}}</div>\r\n            </li>\r\n            <li\r\n              v-for=\"(v,i) in item.item\"\r\n              :key=\"i\"\r\n              @click=\"handleActive(index,i,v)\"\r\n              :class=\"v.is_active?'active':''\"\r\n            >\r\n              <div>{{v.user.name}}</div>\r\n              <div>线下客人</div>\r\n              <ul>\r\n                <li class=\"item1\">住</li>\r\n                <li class=\"item2\">预</li>\r\n                <!-- <li class=\"item3\">留</li>\r\n                <li class=\"item4\">修</li>-->\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    <RoomVacant :show=\"ShowRoomVacant\" @closeAlert=\"closeAlert\"></RoomVacant>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Menu from \"../components/menu\";\r\nimport header from \"../views/data.js\";\r\nimport RoomVacant from \"./../components/calendar/roomVacant\"\r\nexport default {\r\n  components: {\r\n    Menu,\r\n    RoomVacant\r\n  },\r\n  data() {\r\n    return {\r\n      header: header.data,\r\n      list: header.list,\r\n      value1: \"2020-05-28\",\r\n      week: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\r\n      today:'',//今天日期\r\n      selectedRoom:[],//选中的房间\r\n      ShowRoomVacant:false,//空房\r\n    };\r\n  },\r\n  watch:{\r\n      value1(){\r\n        this.date();\r\n      }\r\n  },\r\n  mounted(){\r\n    this.today=this.$moment().format(\"MM-DD\");\r\n  },\r\n  methods: {\r\n    handleActive(index, i) {\r\n      this.list[index].item[i].is_active = !this.list[index].item[i].is_active;\r\n      var id=this.list[index].id,//点击房间的id\r\n      price=this.list[index].item[i].price,//点击房间的价格\r\n      date=this.header[i].day;//点击房间的日期\r\n      if(this.list[index].item[i].is_active){\r\n        this.selectedRoom.push({\r\n            name:this.list[index].roomName,\r\n            id,\r\n            roomNumber:this.list[index].roomNumber,\r\n            list:[{date:date,price:price}]\r\n        })\r\n      }else{\r\n          this.selectedRoom.map((item,index)=>{\r\n            if(item.id==id){//判断id  横列\r\n              for(var i=0;i<item.list.length;i++){\r\n                  if(item.list[i].date==date){//判断时间是否同一天 纵列\r\n                      this.selectedRoom.splice(index,1)\r\n                  }\r\n              }\r\n            }\r\n          })\r\n          this.closeAlert()\r\n      }\r\n      this.$store.commit('setroomListInfo', this.selectedRoom);\r\n      this.ShowRoomVacant=true;\r\n    },\r\n    handlePrve(){//上一周\r\n        this.value1=this.getDate(-7,true)\r\n    },\r\n    handleNext(){//下一周\r\n      this.value1=this.getDate(7,true)\r\n    },\r\n    date() {\r\n      this.header = [\r\n        //  { day:this.getDate(-2), count: \"8\", week:this.week[this.getweek(-2)] },\r\n        //  { day:this.getDate(-1), count: \"8\", week:this.week[this.getweek(-1)]},\r\n        { day: this.getDate(0), count: \"8\", week: this.week[this.getweek(0)] },\r\n        { day: this.getDate(1), count: \"12\", week: this.week[this.getweek(1)] },\r\n        { day: this.getDate(2), count: \"15\", week: this.week[this.getweek(2)] },\r\n        { day: this.getDate(3), count: \"17\", week: this.week[this.getweek(3)] },\r\n        { day: this.getDate(4), count: \"23\", week: this.week[this.getweek(4)] },\r\n        { day: this.getDate(5), count: \"24\", week: this.week[this.getweek(5)] },\r\n        { day: this.getDate(6), count: \"36\", week: this.week[this.getweek(6)] },\r\n        { day: this.getDate(7), count: \"42\", week: this.week[this.getweek(7)] },\r\n        { day: this.getDate(8), count: \"56\", week: this.week[this.getweek(8)] },\r\n        { day: this.getDate(9), count: \"60\", week: this.week[this.getweek(9)] }\r\n      ];\r\n    },\r\n    getDate(day,flag=false) {\r\n      var dd = new Date(this.value1);\r\n      dd.setDate(dd.getDate() + day);\r\n      var y=dd.getFullYear();\r\n      var m =\r\n        dd.getMonth() + 1 < 10 ? \"0\" + (dd.getMonth() + 1) : dd.getMonth() + 1;\r\n      var d = dd.getDate() < 10 ? \"0\" + dd.getDate() : dd.getDate();\r\n      if(flag){\r\n        return y+\"-\" + m + \"-\" + d;\r\n      }else{\r\n        return  m + \"-\" + d;\r\n      }\r\n    },\r\n    getweek(day) {\r\n      var dd = new Date(this.value1);\r\n      dd.setDate(dd.getDate() + day);\r\n      return dd.getDay();\r\n    },\r\n    closeAlert(){\r\n      console.log(\"1111\")\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.dynamicPage {\r\n  height: calc(100% - 20px);\r\n  display: flex;\r\n  .menuLeft {\r\n    width: 260px;\r\n    min-width: 260px;\r\n    box-shadow: 1px 1px 1px 1px #ccc;\r\n    padding-bottom: 10px;\r\n    margin-right: 20px;\r\n    overflow: auto;\r\n  }\r\n  .boxRight {\r\n    flex: 1;\r\n    section {\r\n      padding: 30px;\r\n      header {\r\n        ul {\r\n          display: flex;\r\n          cursor: pointer;\r\n          li {\r\n            border: 1px solid #ccc;\r\n            border-left: none;\r\n            width: 130px;\r\n            text-align: center;\r\n            padding: 10px;\r\n            line-height: 25px;\r\n            box-sizing: border-box;\r\n            background: #f5f5f5;\r\n            &.on {\r\n              background: #5ea3ff;\r\n              color: #fff;\r\n            }\r\n            .today {\r\n              font-size: 14px;\r\n            }\r\n            &.frist {\r\n              width: 180px;\r\n              border-left: 1px solid #ccc;\r\n              line-height: 35px;\r\n              .el-date-editor {\r\n                width: 130px;\r\n              }\r\n              .btn {\r\n                display: flex;\r\n                align-items: center;\r\n                & > span {\r\n                  display: flex;\r\n                  align-items: center;\r\n                  width: 50%;\r\n                  font-size: 14px;\r\n                  &:last-child {\r\n                    justify-content: flex-end;\r\n                  }\r\n                  i {\r\n                    font-size: 16px;\r\n                  }\r\n                  &:hover {\r\n                    color: #5ea3ff;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .main {\r\n        & > ul {\r\n          display: flex;\r\n          cursor: pointer;\r\n          & > li {\r\n            border: 1px solid #ccc;\r\n            border-left: none;\r\n            width: 130px;\r\n            text-align: center;\r\n            padding: 10px;\r\n            box-sizing: border-box;\r\n            border-top: none;\r\n            &.frist {\r\n              width: 180px;\r\n              border-left: 1px solid #ccc;\r\n              line-height: 35px;\r\n            }\r\n\r\n            div {\r\n              margin-top: 8px;\r\n            }\r\n            ul {\r\n              margin-top: 8px;\r\n              display: flex;\r\n              justify-content: flex-end;\r\n              li {\r\n                margin-left: 5px;\r\n                font-size: 14px;\r\n                padding: 2px 6px;\r\n                color: #fff;\r\n                border-radius: 4px;\r\n                &.item1 {\r\n                  background: #f5af19;\r\n                }\r\n                &.item2 {\r\n                  background: #06c8f8;\r\n                }\r\n                &.item3 {\r\n                  background: #9ff59f;\r\n                }\r\n                &.item4 {\r\n                  background: #cfcdca;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .active {\r\n          background: #5ea3ff;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}