{"remainingRequest":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\pms\\hotel-pms-web\\src\\views\\dynamic.vue?vue&type=style&index=0&id=1b2ad795&scoped=true&lang=scss&","dependencies":[{"path":"D:\\Desktop\\pms\\hotel-pms-web\\src\\views\\dynamic.vue","mtime":1590660331687},{"path":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\pms\\hotel-pms-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouZHluYW1pY1BhZ2Ugew0KICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDIwcHgpOw0KICBkaXNwbGF5OiBmbGV4Ow0KICAubWVudUxlZnQgew0KICAgIHdpZHRoOiAyNjBweDsNCiAgICBtaW4td2lkdGg6IDI2MHB4Ow0KICAgIGJveC1zaGFkb3c6IDFweCAxcHggMXB4IDFweCAjY2NjOw0KICAgIHBhZGRpbmctYm90dG9tOiAxMHB4Ow0KICAgIG1hcmdpbi1yaWdodDogMjBweDsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgfQ0KICAuYm94UmlnaHQgew0KICAgIGZsZXg6IDE7DQogICAgc2VjdGlvbiB7DQogICAgICBwYWRkaW5nOiAzMHB4Ow0KICAgICAgaGVhZGVyIHsNCiAgICAgICAgdWwgew0KICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgIGxpIHsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7DQogICAgICAgICAgICBib3JkZXItbGVmdDogbm9uZTsNCiAgICAgICAgICAgIHdpZHRoOiAxMzBweDsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgICAgICAgICBsaW5lLWhlaWdodDogMjVweDsNCiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1Ow0KICAgICAgICAgICAgJi5vbiB7DQogICAgICAgICAgICAgIGJhY2tncm91bmQ6ICM1ZWEzZmY7DQogICAgICAgICAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLnRvZGF5IHsNCiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJi5mcmlzdCB7DQogICAgICAgICAgICAgIHdpZHRoOiAxODBweDsNCiAgICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjY2NjOw0KICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMzVweDsNCiAgICAgICAgICAgICAgLmVsLWRhdGUtZWRpdG9yIHsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTMwcHg7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgLmJ0biB7DQogICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgICAgICYgPiBzcGFuIHsNCiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgICAgICAgd2lkdGg6IDUwJTsNCiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgICAgICAgICAgICY6bGFzdC1jaGlsZCB7DQogICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4Ow0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgJjpob3ZlciB7DQogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjNWVhM2ZmOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLm1haW4gew0KICAgICAgICAmID4gdWwgew0KICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICYgPiBsaSB7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOw0KICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IG5vbmU7DQogICAgICAgICAgICB3aWR0aDogMTMwcHg7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICBwYWRkaW5nOiAxMHB4Ow0KICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgICAgICAgIGJvcmRlci10b3A6IG5vbmU7DQogICAgICAgICAgICAmLmZyaXN0IHsNCiAgICAgICAgICAgICAgd2lkdGg6IDE4MHB4Ow0KICAgICAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNjY2M7DQogICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzNXB4Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBkaXYgew0KICAgICAgICAgICAgICBtYXJnaW4tdG9wOiA4cHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB1bCB7DQogICAgICAgICAgICAgIG1hcmdpbi10b3A6IDhweDsNCiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsNCiAgICAgICAgICAgICAgbGkgew0KICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDJweCA2cHg7DQogICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7DQogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgICAgICAgICAgICYuaXRlbTEgew0KICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y1YWYxOTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgJi5pdGVtMiB7DQogICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDZjOGY4Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAmLml0ZW0zIHsNCiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICM5ZmY1OWY7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICYuaXRlbTQgew0KICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2NmY2RjYTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLmFjdGl2ZSB7DQogICAgICAgICAgYmFja2dyb3VuZDogIzVlYTNmZjsNCiAgICAgICAgICBjb2xvcjogI2ZmZjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["dynamic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dynamic.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"dynamicPage\">\r\n    <div class=\"menuLeft\">\r\n      <Menu></Menu>\r\n    </div>\r\n    <div class=\"boxRight\">\r\n      <section>\r\n        <header>\r\n          <ul>\r\n            <li class=\"frist\">\r\n              <!-- <div>2020-05</div> -->\r\n              <div>\r\n                <el-date-picker v-model=\"value1\" size=\"mini\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n              </div>\r\n              <div class=\"btn\">\r\n                <span @click=\"handlePrve\">\r\n                  <i class=\"el-icon-arrow-left\"></i>\r\n                  <span>前一周</span>\r\n                </span>\r\n                <span @click=\"handleNext\">\r\n                  <span>后一周</span>\r\n                  <i class=\"el-icon-arrow-right\"></i>\r\n                </span>\r\n              </div>\r\n            </li>\r\n            <li v-for=\"(item,index) in header\" :key=\"index\" :class=\"item.day==today?'on':''\">\r\n              <div>{{item.week}}</div>\r\n              <div v-if=\"item.day!=today\">{{item.day}}</div>\r\n              <div v-else class=\"today\">今天</div>\r\n              <div>剩{{item.count}}间</div>\r\n            </li>\r\n          </ul>\r\n        </header>\r\n        <div class=\"main\">\r\n          <ul v-for=\"(item,index) in list\" :key=\"index\">\r\n            <li class=\"frist\">\r\n              <div>{{item.roomName}}</div>\r\n              <div>{{item.roomNumber}}</div>\r\n            </li>\r\n            <li\r\n              v-for=\"(v,i) in item.item\"\r\n              :key=\"i\"\r\n              @click=\"handleActive(index,i,v)\"\r\n              :class=\"v.is_active?'active':''\"\r\n            >\r\n              <div>{{v.user.name}}</div>\r\n              <div>线下客人</div>\r\n              <ul>\r\n                <li class=\"item1\">住</li>\r\n                <li class=\"item2\">预</li>\r\n                <!-- <li class=\"item3\">留</li>\r\n                <li class=\"item4\">修</li>-->\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    <RoomVacant :show=\"ShowRoomVacant\" @closeAlert=\"closeAlert\"></RoomVacant>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Menu from \"../components/menu\";\r\nimport header from \"../views/data.js\";\r\nimport RoomVacant from \"./../components/calendar/roomVacant\"\r\nexport default {\r\n  components: {\r\n    Menu,\r\n    RoomVacant\r\n  },\r\n  data() {\r\n    return {\r\n      header: header.data,\r\n      list: header.list,\r\n      value1: \"2020-05-28\",\r\n      week: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\r\n      today:'',//今天日期\r\n      selectedRoom:[],//选中的房间\r\n      ShowRoomVacant:false,//空房\r\n    };\r\n  },\r\n  watch:{\r\n      value1(){\r\n        this.date();\r\n      }\r\n  },\r\n  mounted(){\r\n    this.today=this.$moment().format(\"MM-DD\");\r\n  },\r\n  methods: {\r\n    handleActive(index, i) {\r\n      this.list[index].item[i].is_active = !this.list[index].item[i].is_active;\r\n      var id=this.list[index].id,//点击房间的id\r\n      price=this.list[index].item[i].price,//点击房间的价格\r\n      date=this.header[i].day;//点击房间的日期\r\n      if(this.list[index].item[i].is_active){\r\n        this.selectedRoom.push({\r\n            name:this.list[index].roomName,\r\n            id,\r\n            roomNumber:this.list[index].roomNumber,\r\n            list:[{date:date,price:price}]\r\n        })\r\n      }else{\r\n          this.selectedRoom.map((item,index)=>{\r\n            if(item.id==id){//判断id  横列\r\n              for(var i=0;i<item.list.length;i++){\r\n                  if(item.list[i].date==date){//判断时间是否同一天 纵列\r\n                      this.selectedRoom.splice(index,1)\r\n                  }\r\n              }\r\n            }\r\n          })\r\n          this.closeAlert()\r\n      }\r\n      this.$store.commit('setroomListInfo', this.selectedRoom);\r\n      this.ShowRoomVacant=true;\r\n    },\r\n    handlePrve(){//上一周\r\n        this.value1=this.getDate(-7,true)\r\n    },\r\n    handleNext(){//下一周\r\n      this.value1=this.getDate(7,true)\r\n    },\r\n    date() {\r\n      this.header = [\r\n        //  { day:this.getDate(-2), count: \"8\", week:this.week[this.getweek(-2)] },\r\n        //  { day:this.getDate(-1), count: \"8\", week:this.week[this.getweek(-1)]},\r\n        { day: this.getDate(0), count: \"8\", week: this.week[this.getweek(0)] },\r\n        { day: this.getDate(1), count: \"12\", week: this.week[this.getweek(1)] },\r\n        { day: this.getDate(2), count: \"15\", week: this.week[this.getweek(2)] },\r\n        { day: this.getDate(3), count: \"17\", week: this.week[this.getweek(3)] },\r\n        { day: this.getDate(4), count: \"23\", week: this.week[this.getweek(4)] },\r\n        { day: this.getDate(5), count: \"24\", week: this.week[this.getweek(5)] },\r\n        { day: this.getDate(6), count: \"36\", week: this.week[this.getweek(6)] },\r\n        { day: this.getDate(7), count: \"42\", week: this.week[this.getweek(7)] },\r\n        { day: this.getDate(8), count: \"56\", week: this.week[this.getweek(8)] },\r\n        { day: this.getDate(9), count: \"60\", week: this.week[this.getweek(9)] }\r\n      ];\r\n    },\r\n    getDate(day,flag=false) {\r\n      var dd = new Date(this.value1);\r\n      dd.setDate(dd.getDate() + day);\r\n      var y=dd.getFullYear();\r\n      var m =\r\n        dd.getMonth() + 1 < 10 ? \"0\" + (dd.getMonth() + 1) : dd.getMonth() + 1;\r\n      var d = dd.getDate() < 10 ? \"0\" + dd.getDate() : dd.getDate();\r\n      if(flag){\r\n        return y+\"-\" + m + \"-\" + d;\r\n      }else{\r\n        return  m + \"-\" + d;\r\n      }\r\n    },\r\n    getweek(day) {\r\n      var dd = new Date(this.value1);\r\n      dd.setDate(dd.getDate() + day);\r\n      return dd.getDay();\r\n    },\r\n    closeAlert(){\r\n      console.log(\"1111\")\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.dynamicPage {\r\n  height: calc(100% - 20px);\r\n  display: flex;\r\n  .menuLeft {\r\n    width: 260px;\r\n    min-width: 260px;\r\n    box-shadow: 1px 1px 1px 1px #ccc;\r\n    padding-bottom: 10px;\r\n    margin-right: 20px;\r\n    overflow: auto;\r\n  }\r\n  .boxRight {\r\n    flex: 1;\r\n    section {\r\n      padding: 30px;\r\n      header {\r\n        ul {\r\n          display: flex;\r\n          cursor: pointer;\r\n          li {\r\n            border: 1px solid #ccc;\r\n            border-left: none;\r\n            width: 130px;\r\n            text-align: center;\r\n            padding: 10px;\r\n            line-height: 25px;\r\n            box-sizing: border-box;\r\n            background: #f5f5f5;\r\n            &.on {\r\n              background: #5ea3ff;\r\n              color: #fff;\r\n            }\r\n            .today {\r\n              font-size: 14px;\r\n            }\r\n            &.frist {\r\n              width: 180px;\r\n              border-left: 1px solid #ccc;\r\n              line-height: 35px;\r\n              .el-date-editor {\r\n                width: 130px;\r\n              }\r\n              .btn {\r\n                display: flex;\r\n                align-items: center;\r\n                & > span {\r\n                  display: flex;\r\n                  align-items: center;\r\n                  width: 50%;\r\n                  font-size: 14px;\r\n                  &:last-child {\r\n                    justify-content: flex-end;\r\n                  }\r\n                  i {\r\n                    font-size: 16px;\r\n                  }\r\n                  &:hover {\r\n                    color: #5ea3ff;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .main {\r\n        & > ul {\r\n          display: flex;\r\n          cursor: pointer;\r\n          & > li {\r\n            border: 1px solid #ccc;\r\n            border-left: none;\r\n            width: 130px;\r\n            text-align: center;\r\n            padding: 10px;\r\n            box-sizing: border-box;\r\n            border-top: none;\r\n            &.frist {\r\n              width: 180px;\r\n              border-left: 1px solid #ccc;\r\n              line-height: 35px;\r\n            }\r\n\r\n            div {\r\n              margin-top: 8px;\r\n            }\r\n            ul {\r\n              margin-top: 8px;\r\n              display: flex;\r\n              justify-content: flex-end;\r\n              li {\r\n                margin-left: 5px;\r\n                font-size: 14px;\r\n                padding: 2px 6px;\r\n                color: #fff;\r\n                border-radius: 4px;\r\n                &.item1 {\r\n                  background: #f5af19;\r\n                }\r\n                &.item2 {\r\n                  background: #06c8f8;\r\n                }\r\n                &.item3 {\r\n                  background: #9ff59f;\r\n                }\r\n                &.item4 {\r\n                  background: #cfcdca;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .active {\r\n          background: #5ea3ff;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}